<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Surprise untuk Ozzara Nayla — 20th</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --bg: #f9f7f4;
      --card: #fff;
      --gold: #d4af37;
      --muted: #6e6a65;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: linear-gradient(135deg, #fafafa, #f1ede6);
      color: #222;
    }

    /* Curtain */
    .curtain {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      z-index: 50;
    }

    .panel {
      flex: 1;
      background: linear-gradient(180deg, #fefefe, #eae6dd);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 2.5s cubic-bezier(.77, 0, .18, 1);
    }

    .loader h1 {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      color: var(--gold);
      margin: 0;
    }

    .loader p {
      font-size: 14px;
      color: var(--muted);
      margin: 0;
    }

    /* Card */
    .stage {
      min-height: 100vh;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card {
      max-width: 480px;
      width: 100%;
      background: var(--card);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, .1);
    }

    .header {
      text-align: center;
      margin-bottom: 16px;
    }

    .logo {
      width: 70px;
      height: 70px;
      margin: 0 auto 10px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), #f7e3a6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      color: #111;
    }

    .title h2 {
      margin: 0;
      color: var(--gold);
      font-size: 22px;
      font-family: 'Playfair Display', serif;
      text-shadow: 0 0 8px rgba(212, 175, 55, .5);
      animation: pulse 3s infinite;
    }

    @keyframes pulse {
      50% {
        text-shadow: 0 0 18px rgba(212, 175, 55, .8);
      }
    }

    .title p {
      margin: 2px 0 0;
      color: var(--muted);
      font-size: 14px;
    }

    .date-box {
      display: inline-block;
      margin-top: 6px;
      padding: 4px 10px;
      border-radius: 8px;
      background: linear-gradient(135deg, #fff5d7, #ffe9a9);
      font-size: 12px;
      font-weight: 600;
    }

    .message {
      text-align: center;
      background: #faf9f6;
      padding: 18px;
      border-radius: 14px;
    }

    .message h1 {
      margin: 0 0 8px;
      color: var(--gold);
      font-family: 'Playfair Display', serif;
    }

    .message .meta {
      color: var(--muted);
      margin-bottom: 10px;
      font-size: 13px;
    }

    .message p {
      font-size: 15px;
      line-height: 1.6;
      color: #333;
      min-height: 60px;
    }

    /* Slider foto (card) */
    .slider {
      position: relative;
      overflow: hidden;
      border-radius: 14px;
      margin-top: 14px;
    }

    .slides {
      display: flex;
      transition: transform 1s ease;
    }

    .slides img {
      width: 100%;
      height: 380px;
      object-fit: cover;
      flex-shrink: 0;
      display: block;
    }

    .panel-card {
      text-align: center;
      margin-top: 18px;
    }

    .age {
      font-size: 40px;
      font-weight: 700;
      color: var(--gold);
      font-family: 'Playfair Display', serif;
    }

    .small {
      font-size: 13px;
      color: var(--muted)
    }

    /* Confetti */
    canvas#confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 40;
    }

    /* Modal */
    .reveal-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .45);
      z-index: 60;
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .reveal-modal.show {
      opacity: 1;
      pointer-events: auto;
    }

    .reveal-box {
      max-width: 520px;
      width: 100%;
      background: #fff;
      border-radius: 16px;
      padding: 12px 14px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, .25);
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .reveal-box .photo {
      width: 100%;
      height: 350px;
      border-radius: 12px;
      overflow: hidden;
      flex: 0 0 auto;
    }

    .reveal-box .photo img {
      width: 100%;
      height: 350px;
      object-fit: cover;
      display: block;
    }

    .reveal-content {
      flex: 1 1 auto;
      overflow-y: auto;
      padding: 12px 6px
    }

    /* area scroll normal */
    .reveal-content p {
      white-space: pre-wrap;
      margin: 0 0 10px;
      color: #333;
      line-height: 1.6;
    }

    .reveal-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 10px 6px;
      flex: 0 0 auto;
    }

    .nav-small {
      background: var(--gold);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
    }

    .close-small {
      background: linear-gradient(90deg, #fff5d7, #ffe9a9);
      border: none;
      border-radius: 10px;
      padding: 8px 14px;
      cursor: pointer;
    }

    /* Responsive */
    @media(max-width:520px) {
      .reveal-box {
        padding: 10px;
      }

      .reveal-box .photo {
        height: 380px;
      }

      .slides img {
        height: 350px;
      }
    }
  </style>
</head>

<body>
  <!-- Curtain -->
  <div class="curtain" id="curtain">
    <div class="panel top">
      <div class="loader">
        <h1>Happy Birthday</h1>
        <p>Sebentar lagi...</p>
      </div>
    </div>
    <div class="panel bottom">
      <div class="loader">
        <h1>✨ Hasan & Ozza ✨</h1>
        <p>Memuat hadiah...</p>
      </div>
    </div>
  </div>

  <!-- Confetti -->
  <canvas id="confetti"></canvas>

  <!-- Main card -->
  <div class="stage" aria-hidden="true">
    <div class="card">
      <div class="header">
        <div class="logo">ON</div>
        <div class="title">
          <h2>Untuk <span id="nameLabel"></span></h2>
          <p>Selamat ulang tahun ke-<span id="ageLabel"></span> dari Hasan</p>
          <div class="date-box">02 Oktober 2005</div>
        </div>
      </div>

      <div class="message">
        <h1>Selamat Ulang Tahun, Ozza</h1>
        <div class="meta">Usia: <strong id="ageMeta"></strong> — Nama: <strong id="nameMeta"></strong></div>
        <p id="mainMessage"></p>

        <!-- foto slider (card) -->
        <div class="slider" aria-hidden="false">
          <div class="slides" id="slides"></div>
        </div>
      </div>

      <div class="panel-card">
        <h3>Hari ini usiamu</h3>
        <div class="age" id="ageBig"></div>
        <div class="small">Semoga berkah, cinta, dan kebahagiaan selalu menyertaimu</div>
        <div style="margin-top:12px"><button class="close-small" id="revealBtn">✨ Kejutan Tambahan ✨</button></div>
      </div>
    </div>
  </div>

  <!-- Modal (foto atas, surat tengah, controls bawah) -->
  <div class="reveal-modal" id="revealModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="reveal-box" role="document">
      <div class="photo"><img id="revealPhoto" src="" alt="Foto Kejutan"></div>

      <div class="reveal-content" id="revealContent">
        <!-- Two letters as separate paragraphs; user can scroll normally inside -->
        <p id="revealText1"></p>
        <hr style="border:none;border-top:1px solid #eee;margin:12px 0">
        <p id="revealText2"></p>
      </div>

      <div class="reveal-controls">
        <button class="nav-small" id="prevText" title="Lihat surat sebelumnya">◀</button>
        <button class="close-small" id="closeReveal">Tutup</button>
        <button class="nav-small" id="nextText" title="Lihat surat selanjutnya">▶</button>
      </div>
    </div>
  </div>

  <script>
    // --- DATA (pakai kode kamu) ---
    const DATA = {
      name: "Ozzara Nayla",
      age: 20,
      mainMessage: "Sayang Ozza, terima kasih telah menjadi cahaya hidupku. Semoga semua impianmu tercapai, sehat, bahagia, dan selalu dikelilingi cinta.",
      photos: [
        // ganti nama file / URL sesuai asetmu
        "5.jpg", "3.jpg", "2.jpg", "6.jpg", "8.jpg", "9.jpg", "10.jpg", "1.jpg"
      ],
      // surat 1 (pendek)
      reveal1: `Selamat Ulang Tahun, Ozza Sayangku ❤✨

Hari ini adalah hari istimewa, dan aku bersyukur bisa merayakannya bersamamu.
Semoga kamu selalu sehat, bahagia, dan dilimpahi keberkahan dalam setiap langkah.

Aku percaya kamu akan menjadi CEO hebat yang membawa bisnis-bisnismu  ON Farm, Ovella Bakery, dan semua yang kamu bangun  menuju kesuksesan besar yang dikenal banyak orang.

Semoga kamu juga semakin sabar dalam berbisnis, tekun belajar, dan makin seru menikmati setiap proses perjuanganmu.
Aku akan selalu jadi “ jd pendamping hidup ku selamanyaaa” yang mendukungmu, mendoakanmu, dan menemanimu sampai semua impianmu tercapai.

Dan yang tak kalah penting, semoga hidupmu selalu penuh kasih kedua orang tua yang kamu cintai.
Semoga kamu membanggakan mereka dengan prestasi, kesuksesan, dan segala pencapaianmu.

Kamu bukan hanya cintaku, tapi juga inspirasiku.
Selamat ulang tahun, cintaku Ozza. Semoga semua doa indah ini terwujud untukmu. 🌹✨
`,
      // surat 2 (panjang)
      reveal2: `Ozzara sayang, ini untukmu. Semoga kejutan ini bisa menjadi hadiah yang berkesan dan sesuai dengan yang kamu impikan. Aku berharap kamu suka dengan apa yang aku siapkan.

Semoga hari-harimu selalu penuh cinta, tawa, dan kebahagiaan. Aku berdoa agar hidupmu diberkahi, bisnismu berkembang pesat, laris manis, dan dikenal banyak orang. Semoga apa yang kamu tekuni dengan kerja keras menjadi jalan menuju kesuksesan besar.

Jadilah pribadi yang sholeh, penuh kasih sayang kepada kedua orang tua, serta sabar menghadapi segala ujian bersama keluarga. Aku yakin kamu akan mampu membanggakan mereka di masa depan. Kamu adalah bagian dari keluarga yang selalu memberi rasa nyaman, dukungan, dan semangat satu sama lain. Dan aku pun akan selalu ada, menemanimu sampai kamu benar-benar sukses besar nanti.

Aku ingin terus mendukung dan membantumu mengembangkan bisnis yang kamu bangun. Aku akan berusaha menghadirkan banyak kesempatan untukmu mulai dari materi kewirausahaan yang pernah aku dapat dari pelatihan Wadhwani Foundation x UGM, sampai membantu menyusun proposal bisnismu, Business Model Canvas, Pitch Deck, dan presentasi terbaikmu.

Percayalah, ini bukan sekadar hadiah, tapi juga bentuk komitmenku untuk menemani setiap langkahmu. Bersama keluargamu dan aku, kamu tidak akan pernah berjalan sendirian. Kita akan berjuang bersama, berkolaborasi, mencari relasi, hingga membangun bisnismu menjadi salah satu yang terbaik di dunia.

Teruslah semangat, teruslah berdoa, dan teruslah berusaha. Aku bangga padamu, dan aku akan selalu mendukungmu sepenuhnya.

— Dengan penuh cinta, Hasan ❤️`
    };

    // --- fill UI ---
    document.getElementById("nameLabel").textContent = DATA.name;
    document.getElementById("nameMeta").textContent = DATA.name;
    document.getElementById("ageLabel").textContent = DATA.age;
    document.getElementById("ageMeta").textContent = DATA.age;
    document.getElementById("ageBig").textContent = DATA.age;

    // typing effect for main message
    function typeEffect(el, text, speed = 40) {
      let i = 0; el.textContent = "";
      const timer = setInterval(() => {
        el.textContent += text.charAt(i);
        i++;
        if (i >= text.length) clearInterval(timer);
      }, speed);
    }

    // Photo slider (card) - auto but gentle; images fit, no heavy scaling
    const slidesEl = document.getElementById("slides");
    DATA.photos.forEach(src => {
      const img = document.createElement("img");
      img.src = src;
      img.alt = "Foto";
      slidesEl.appendChild(img);
    });
    let slideIdx = 0;
    function showSlide(i) {
      slideIdx = (i + DATA.photos.length) % DATA.photos.length;
      slidesEl.style.transform = `translateX(${-slideIdx * 100}%)`;
    }
    // auto slide every 3s
    let slideInterval = setInterval(() => showSlide(slideIdx + 1), 3000);
    // pause on hover (optional)
    slidesEl.addEventListener("mouseenter", () => clearInterval(slideInterval));
    slidesEl.addEventListener("mouseleave", () => { slideInterval = setInterval(() => showSlide(slideIdx + 1), 3000); });

    // Curtain open
    const curtain = document.getElementById("curtain");
    const panels = document.querySelectorAll(".curtain .panel");
    function openCurtain() {
      panels[0].style.transform = "translateY(-120%)";
      panels[1].style.transform = "translateY(120%)";
      setTimeout(() => {
        curtain.style.display = "none";
        document.querySelector(".stage").setAttribute("aria-hidden", "false");
        typeEffect(document.getElementById("mainMessage"), DATA.mainMessage, 35);
      }, 2600);
    }
    window.addEventListener("load", () => setTimeout(openCurtain, 1500));

    // Confetti canvas simple
    const confCanvas = document.getElementById("confetti"), ctx = confCanvas.getContext("2d");
    let W = confCanvas.width = window.innerWidth, H = confCanvas.height = window.innerHeight;
    window.addEventListener("resize", () => { W = confCanvas.width = window.innerWidth; H = confCanvas.height = window.innerHeight; });
    let pieces = [], running = false;
    function rand(min, max) { return Math.random() * (max - min) + min }
    function resetPiece(p) { p.x = rand(0, W); p.y = rand(-H, -10); p.size = rand(6, 14); p.speed = rand(1, 3); p.color = `hsl(${~~rand(30, 55)},70%,50%)`; }
    function spawn(n = 80) { for (let i = 0; i < n; i++) { let p = {}; resetPiece(p); pieces.push(p); } }
    function draw() { ctx.clearRect(0, 0, W, H); for (const p of pieces) { p.y += p.speed; ctx.fillStyle = p.color; ctx.fillRect(p.x, p.y, p.size, p.size); if (p.y > H) resetPiece(p); } if (running) requestAnimationFrame(draw); }
    function startConfetti() { if (!running) { spawn(100); running = true; draw(); } }
    function stopConfetti() { running = false; pieces = []; ctx.clearRect(0, 0, W, H); }

    // Modal behavior: photo top, two letters in content, prev/next near close
    const revealModal = document.getElementById("revealModal");
    const revealPhoto = document.getElementById("revealPhoto");
    const revealText1 = document.getElementById("revealText1");
    const revealText2 = document.getElementById("revealText2");
    const revealContent = document.getElementById("revealContent");
    const prevTextBtn = document.getElementById("prevText");
    const nextTextBtn = document.getElementById("nextText");
    const closeBtn = document.getElementById("closeReveal");

    // put texts
    revealText1.textContent = DATA.reveal1;
    revealText2.textContent = DATA.reveal2;

    // modal current index (0 = show first paragraph on top of scroll, 1 = scroll to second)
    let modalIndex = 0;
    function openModal() {
      // set photo and open
      revealPhoto.src = DATA.photos[0] || "";
      revealModal.classList.add("show");
      revealModal.setAttribute("aria-hidden", "false");
      // ensure content scrolled to top of first paragraph
      revealContent.scrollTop = 0;
      modalIndex = 0;
      startConfetti();
      // focus for accessibility
      closeBtn.focus();
    }
    function closeModal() {
      revealModal.classList.remove("show");
      revealModal.setAttribute("aria-hidden", "true");
      stopConfetti();
    }

    // Prev/Next behavior will scroll to resulting paragraph
    function showModalIndex(i) {
      modalIndex = Math.max(0, Math.min(1, i));
      // compute scroll position to top of the paragraph inside revealContent
      // Because we have simple layout: p (1), hr, p (2). We'll target child positions.
      const children = Array.from(revealContent.children);
      const target = children[modalIndex * 2]; // p at 0 or p at 2 (because hr is index 1)
      if (target) {
        // smooth scroll
        revealContent.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
      }
    }

    // button wireups
    document.getElementById("revealBtn").addEventListener("click", openModal);
    closeBtn.addEventListener("click", closeModal);
    prevTextBtn.addEventListener("click", () => showModalIndex(modalIndex - 1));
    nextTextBtn.addEventListener("click", () => showModalIndex(modalIndex + 1));

    // allow keyboard navigation when modal open
    document.addEventListener("keydown", (e) => {
      if (revealModal.classList.contains("show")) {
        if (e.key === "Escape") closeModal();
        if (e.key === "ArrowLeft") showModalIndex(modalIndex - 1);
        if (e.key === "ArrowRight") showModalIndex(modalIndex + 1);
      }
    });

    // allow swipe inside revealContent for mobile (simple)
    let startY = 0, startX = 0;
    revealContent.addEventListener('touchstart', e => {
      if (e.touches && e.touches[0]) {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
      }
    }, { passive: true });
    revealContent.addEventListener('touchend', e => {
      if (e.changedTouches && e.changedTouches[0]) {
        const dx = e.changedTouches[0].clientX - startX;
        const dy = e.changedTouches[0].clientY - startY;
        // horizontal swipe: left/right -> next/prev
        if (Math.abs(dx) > 60 && Math.abs(dx) > Math.abs(dy)) {
          if (dx < 0) showModalIndex(modalIndex + 1);
          else showModalIndex(modalIndex - 1);
        }
      }
    });

    // Prevent background scroll when modal open? User requested modal scroll normal;
    // We'll allow background scroll but keep focus inside modal — simpler: disable body scroll while modal open to avoid double scroll.

  </script>
</body>

</html>
